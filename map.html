<html>
  <head>
    <meta charset=utf-8 />
<title>Multi-Stop Transit Routing</title>
    <link href='http://api.tiles.mapbox.com/mapbox.js/v1.2.0/mapbox.css' rel='stylesheet' />
    <script src='http://api.tiles.mapbox.com/mapbox.js/v1.2.0/mapbox.js'></script>
    <style>
      #map { position:absolute; top:0; bottom:0; left:0; width:100%; }
    </style>
  </head>
  
  <body>

    <style>
      pre.ui-coordinates {
        position:absolute;
        bottom:20px;
        left:30px;
        padding:5px 10px;
        background:rgba(0,0,0,0.5);
        color:#fff;
        font-size:13px;
        line-height:18px;
        border-radius:3px;
        }
    </style>
    <div id='map'></div>
    <pre id='coordinates' class='ui-coordinates'></pre>
    
    <script type='text/javascript'>
      
      var map = L.mapbox.map('map', 'meghan.ipb4b059', {
        gridLayer: {},
        gridControl: {
        sanitizer: function(x) { console.log(x); return x; }
        }
        })
        .setView([37.7833, -122.4167], 13);
        
      var marker = L.marker(new L.LatLng(37.7833, -122.4167), {
        icon: L.mapbox.marker.icon({'marker-color': 'CC0033'}),
        draggable: true
        }).addTo(map);
        
    
      marker.on('dragend', ondragend);

      ondragend();

      function ondragend() {
          var m = marker.getLatLng();
          coordinates.innerHTML = 'Latitude: ' + m.lat + '<br />Longitude: ' + m.lng;
      }
      
      updateMarker();

      marker.on('dragend',updateMarker);

    



    </script>
  </body>
</html>